{% extends "base.html" %}

{% block content %}
    <h1>Zhu Weijie's Weblog</h1>
    <ul>
        <!-- Now we loop through page.posts -->
        {% for post in page.posts %}
        <li>
            <a href="{{ post.permalink }}">{{ post.title }}</a>
            - {{ post.date.strftime('%Y-%m-%d') }}
        </li>
        {% endfor %}
    </ul>

    <!-- Pagination Navigation -->
    <nav>
        {% if page.has_prev %}
            {% if page.prev_page_num == 1 %}
                <a href="/">&laquo; Previous</a>
            {% else %}
                <a href="/page/{{ page.prev_page_num }}/">&laquo; Previous</a>
            {% endif %}
        {% endif %}
        
        <span>Page {{ page.page_num }} of {{ page.total_pages }}</span>

        {% if page.has_next %}
            <a href="/page/{{ page.next_page_num }}/">Next &raquo;</a>
        {% endif %}
    </nav>
{% endblock %}
