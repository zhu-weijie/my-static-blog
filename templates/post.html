{% extends "base.html" %}

{% block title %}{{ post.title }}{% endblock %}

{% block meta_description %}{% if post.description %}{{ post.description }}{% endif %}{% endblock %}
{% block meta_keywords %}{% if post.keywords %}{{ post.keywords | join(', ') }}{% endif %}{% endblock %}

{% block content %}
    <h1>{{ post.title }}</h1>
    <p><em>Published on: {{ post.date.strftime('%B %d, %Y') }}</em></p>
    
    <div>
        {% if post.category %}
            <span>Category: <a href="/categories/{{ post.category | lower }}.html">{{ post.category }}</a></span>
        {% endif %}
        {% if post.tags %}
            <p>Tags: 
            {% for tag in post.tags %}
                <span><a href="/tags/{{ tag | lower }}.html">#{{ tag }}</a></span>
            {% endfor %}
            </p>
        {% endif %}
    </div>

    <hr>
    {{ post.content_html | safe }}

    {% if post.related_posts %}
    <section>
        <h2>Related Posts</h2>
        <ul>
            {% for related in post.related_posts %}
            <li><a href="{{ related.permalink }}">{{ related.title }}</a></li>
            {% endfor %}
        </ul>
    </section>
    {% endif %}
{% endblock %}
